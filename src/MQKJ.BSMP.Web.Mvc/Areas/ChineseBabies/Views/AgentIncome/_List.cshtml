@using MQKJ.BSMP.Web.Startup
@using MQKJ.BSMP;
@using X.PagedList
@using X.PagedList.Mvc.Common;
@using X.PagedList.Mvc.Core
@using Microsoft.EntityFrameworkCore.Internal
@using MQKJ.BSMP.EnumHelper
@using  MQKJ.BSMP.Web.Mvc.Areas.ChineseBabies.Controllers
@model AgentIncomeViewList
@{
    var tableDataList = Model.Data;
}
<table class="table">
    <thead>
        <tr>
            @*<th>序号</th>*@
            <th>代理Id</th>
            <th>昵称</th>
            <th>头像</th>
            <th>姓名</th>
            <td>手机号</td>
            <th>身份</th>
            <th>上级</th>
            <th>订单数</th>
            <td>总流水</td>
            <td>自己流水</td>
            <td>下级流水</td>
            <td>总收益</td>
            <td>累计补贴流水</td>
            <td>已提现收益</td>
            <td>可提现收益</td>
        </tr>
    </thead>
    <tbody>
        @{
            foreach (var item in tableDataList)
            {
                <tr>
                    <td>@item.AgentId</td>
                    <td>@item.NickName</td>
                    <td><img src="@item.HeadeUrl" class="user-header-img" /></td>
                    <td>@item.UserName</td>
                    <td>@item.PhoneNumber</td>
                    <td>@EnumHelper.GetDescription(item.AgentLevel)</td>
                    <td>@item.UpAgentName</td>
                    <td>@item.TotalOrderCount</td>
                    <td>@item.TotalRunWaterCount</td>
                    <td>@item.FirstRunWaterCount</td>
                    <td>@item.SecondRunWaterCount</td>
                    <td>@item.TotalIncomeCount</td>
                    <td>@item.TotalSubsidyAmount</td>
                    <td style="background-color:lightgray">@item.WithDrawedMoney</td>
                    <td style="background-color:lightgray">@item.CanWithDrawedMoney</td>
                </tr>
            }
        }
        <tr class="chk-col-red col-deep-orange" style="border:2px solid white;">
            <td class="align-left" style="position:relative;left:20%">
                <b>合计总流水：</b>
                <b>￥ @Model.TotalWater</b>
            </td>
            <td class="align-left" style="position:relative;left:30%">
                <b>合计总收益：</b>
                <b>￥@Math.Round(Model.TotalIncome, 2)</b>
            </td>
        </tr>
    </tbody>
</table>

@Html.PagedListPager((IPagedList)tableDataList, page => Url.Action("Index", new { page }), new PagedListRenderOptions()
{
    DisplayLinkToFirstPage = PagedListDisplayMode.Always,
    DisplayLinkToLastPage = PagedListDisplayMode.Always,
    DisplayLinkToPreviousPage = PagedListDisplayMode.Never,
    DisplayLinkToNextPage = PagedListDisplayMode.Never,
    LinkToFirstPageFormat = "首页",
    LinkToLastPageFormat = "末页",
    DisplayPageCountAndCurrentLocation = true,
    PageCountAndCurrentLocationFormat = "每页 10 条共{1}页",
    //DisplayItemSliceAndTotal = true,
    //ItemSliceAndTotalFormat = "每页{1}条"
})

<style type="text/css">
    .PagedList-pageCountAndLocation {
        position: absolute;
        right: 20px;
        /*color:red !important;*/
    }
</style>


